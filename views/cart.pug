extends layout

block scripts
    +script("cart")

block content
    section#cart
        h2 Cart

        if !session.cart
            p Nothing in cart.
        else
            each item in session.cart.books
                .cart-item
                    h3  
                        a(href="/books/" + item.isbn) #{item.title}
                    span.delete(onClick="removeFromCart('" + item.isbn + "')") &times;
                    input(type="number" onInput="changeQuantity('" + item.isbn + "', this)" value=item.quantity min="1" max="1000" size="1")
                    span $#{item.price.toFixed(2)}

            #total Total - $#{session.cart.total.price.toFixed(2)}

            //checkout
            if !session.signedIn
                button#checkout(onclick="window.location.href='/login';") Log In/Register to Checkout
            else
                button#checkout(onclick="window.location.href='/checkout';") Checkout