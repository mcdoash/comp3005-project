extends ../layout

block content
    section#report
        h3 Report from #{report.from} to #{report.to} by #{report.type}

        table
            if report.type == "all"
                tr
                    th Purchased
                    th Units sold
                    th Total revenue
                    th Total profit
                    th Expenditure

                each row in report.results  
                    tr
                        td #{row.purchased}
                        td #{row.units_sold}
                        td #{parseInt(row.total_revenue).toFixed(2)}
                        td #{parseInt(row.total_profit).toFixed(2)}
                        td #{parseInt(row.total_lost).toFixed(2)}
            else 
                tr
                    if report.type == "genre"
                        th Genre
                    else
                        th Author
                    th Total sales
                    th Total revenue
                    th Total profit
                    th Expenditure
                    
                each row in report.results
                    tr
                        if report.type == "genre"
                            td #{row.genre}
                        else
                            td #{row.author}
                        td #{row.total_sales}
                        td #{parseInt(row.total_revenue).toFixed(2)}
                        td #{parseInt(row.total_profit).toFixed(2)}
                        td #{parseInt(row.profit_lost).toFixed(2)}
            
        